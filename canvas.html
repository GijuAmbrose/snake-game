<!DOCTYPE>
<html>
<head>
	<style>
		canvas {border: 5px solid black;}
	</style>
	
</head>
<body style="background-color: green">
	<p align="center" style="margin-top: 100px" id="container">
	<canvas width="1000" height="500" id="myCanvas" style="background: grey; >	
	</canvas>
	</p>
	<p id="console-log"></p>
	<script>
		var container = document.getElementById("container");
		var log = document.getElementById("console-log")
		var canvas = document.getElementById("myCanvas");
		var ctx = canvas.getContext('2d');
		const unit = 15;
		var snake1 = [],snake2 = [],temp=[];
		temp[0]= {x:0,y:0};
		snake1[0]={
			x: 10*unit, y: 20*unit 
		};
		snake1[1]={
			x: 12*unit	, y: 20*unit
		};
		snake1[2]={
			x: 14*unit	, y: 20*unit
		};
		snake1[3]={
			x: 16*unit	, y: 20*unit
		};

		ctx.fillStyle = "red";
			ctx.fillRect(snake1[0].x,snake1[0].y, unit, unit);
		for(var i=1;i<snake1.length;i++)
		{	
			ctx.fillStyle = "white";
			ctx.fillRect(snake1[i].x,snake1[i].y, unit, unit);
		}
		var interval,collisionInterval;
		var x1= Math.floor(Math.random()*1000)+1;
		var r = x1%30;
		x1=x1 - r;
		var y1= Math.floor(Math.random()*500)+1;
		var re = y1%30;
		y1=y1 -re;
		ctx.fillStyle="black";
		ctx.fillRect(x1,y1,unit,unit);
		window.addEventListener('keydown', (e) => {
			if (!e.repeat){
				console.log(`Key ${e.keyCode} pressed [event: keydown]`);
			}
			else{
				console.log(`Key "${e.keyCode}" repeating [event: keydown]`);
			}
			if (interval) {
				clearInterval(interval);
			}
			
			

				switch(`${e.keyCode}`){
					case '38':
						
						interval = setInterval(up,100);
					break;
					case '40':
						
						interval = setInterval(down, 100);
					break;
					case '39':
						
						interval = setInterval(right, 100);

					break;
					case '37':
						
						interval = setInterval(left, 100);
					break;
				}

			/*if (`${e.keyCode}` == 38){
				var upinterval = setInterval(up,2000);
			}
			else if (`${e.keyCode}` == 40){
				var downinterval = setInterval(down, 2000);
			}
			else if (`${e.keyCode}` == 39){
				var rightinterval = setInterval(right, 2000);
			}
			else if (`${e.keyCode}` == 37){
				var leftinterval = setInterval(left,2000);
			}*/







		function up(){
			ctx.clearRect(snake1[snake1.length-1].x,snake1[snake1.length-1].y,unit,unit);
			if(snake1[0].x ==x1 && snake1[0].y ==y1)
			{
			ctx.clearRect(x1,y1,unit,unit);
			x1= Math.floor(Math.random()*1000)+1;
				 r = x1%30;
				x1=x1 - r;
				 y1= Math.floor(Math.random()*500)+1;
				 re = y1%30;
				y1=y1 -re;
			for(i=0;i<snake1.length-1;i++){
				if(snake1[i].x ==x1 && snake1[i].y ==y1){
					x1= Math.floor(Math.random()*1000)+1;
					 r = x1%30;
					x1=x1 - r;
					 y1= Math.floor(Math.random()*500)+1;
					 re = y1%30;
					y1=y1 -re;
				}
			}
			ctx.fillStyle="black";
				ctx.fillRect(x1,y1,unit,unit);
			for(var i=snake1.length;i>0;i--){
				snake1[i] = snake1[i-1];
			}
			
			snake1[0] = {x: snake1[0].x , y: snake1[0].y - unit*2 };
			console.log(`${snake1.length}`);
			}
			else{
				
				for(var i=snake1.length-1;i>0;i--){
					snake1[i] = snake1[i-1];
				}
				snake1[0] = {x: snake1[0].x , y: snake1[0].y - unit*2 };
				

				if(snake1[0].y == -30){
					alert("Game end");
					window.location.reload();
				}
				for(var i=1;i<snake1.length;i++){
					if(snake1[i].x==snake1[0].x && snake1[i].y==snake1[0].y){
						alert("Game end");
						window.location.reload();
					}
				}
			}
			ctx.fillStyle = "red";
				ctx.fillRect(snake1[0].x,snake1[0].y,unit,unit);
			for(var i=1;i<=snake1.length-1;i++){
				console.log(`${snake1[i].x},${snake1[i].y}`);

				ctx.fillStyle = "yellow";
				ctx.fillRect(snake1[i].x,snake1[i].y,unit,unit); 
			}
		}
		function down(){
			ctx.clearRect(snake1[snake1.length-1].x,snake1[snake1.length-1].y,unit,unit);
			if(snake1[0].x ==x1 && snake1[0].y ==y1)
			{
				ctx.clearRect(x1,y1,unit,unit);
				 x1= Math.floor(Math.random()*1000)+1;
				 r = x1%30;
				x1=x1 - r;
				 y1= Math.floor(Math.random()*500)+1;
				 re = y1%30;
				y1=y1 -re;
				for(i=0;i<snake1.length-1;i++){
				if(snake1[i].x ==x1 && snake1[i].y ==y1){
					x1= Math.floor(Math.random()*1000)+1;
					 r = x1%30;
					x1=x1 - r;
					 y1= Math.floor(Math.random()*500)+1;
					 re = y1%30;
					y1=y1 -re;
				}
			}
			ctx.fillStyle="black";
				ctx.fillRect(x1,y1,unit,unit);

			for(var i=snake1.length;i>0;i--){
				snake1[i] = snake1[i-1];
			}
			
			snake1[0] = {x: snake1[0].x , y: snake1[0].y + unit*2 };
			console.log(`${snake1.length}`);
			}
			else{
				
				for(var i=snake1.length-1;i>0;i--){
					snake1[i] = snake1[i-1];
				}
				snake1[0] = {x: snake1[0].x , y: snake1[0].y + unit*2 };
				

				if(snake1[0].y == 510){
					alert("Game end");
					window.location.reload();
				}

				for(var i=1;i<snake1.length;i++){
					if(snake1[i].x==snake1[0].x && snake1[i].y==snake1[0].y){
						alert("Game end");
						window.location.reload();
					}
				}
			}
			ctx.fillStyle = "red";
				ctx.fillRect(snake1[0].x,snake1[0].y,unit,unit);
			for(var i=1;i<=snake1.length-1;i++){
				console.log(`${snake1[i].x},${snake1[i].y}`);
				ctx.fillStyle = "yellow";
				ctx.fillRect(snake1[i].x,snake1[i].y,unit,unit); 
			}
		}
		function right(){
			ctx.clearRect(snake1[snake1.length-1].x,snake1[snake1.length-1].y,unit,unit);
			if(snake1[0].x ==x1 && snake1[0].y ==y1)
			{
				ctx.clearRect(x1,y1,unit,unit);
				 x1= Math.floor(Math.random()*1000)+1;
				 r = x1%30;
				x1=x1 - r;
				 y1= Math.floor(Math.random()*500)+1;
				 re = y1%30;
				y1=y1 -re;
				for(i=0;i<snake1.length-1;i++){
				if(snake1[i].x ==x1 && snake1[i].y ==y1){
					x1= Math.floor(Math.random()*1000)+1;
					 r = x1%30;
					x1=x1 - r;
					 y1= Math.floor(Math.random()*500)+1;
					 re = y1%30;
					y1=y1 -re;
				}
			}
			ctx.fillStyle="black";
				ctx.fillRect(x1,y1,unit,unit);

			for(var i=snake1.length;i>0;i--){
				snake1[i] = snake1[i-1];
			}
		
			snake1[0] = {x: snake1[0].x+unit*2 , y: snake1[0].y };
			console.log(`${snake1.length}`);
			}
			else{
				
				for(var i=snake1.length-1;i>0;i--){
					snake1[i] = snake1[i-1];
				}
				snake1[0] = {x: snake1[0].x + unit*2 , y: snake1[0].y   };
				

				if(snake1[0].x == 1020){
					alert("Game end");
					window.location.reload();
				}


				for(var i=1;i<snake1.length;i++){
					if(snake1[i].x==snake1[0].x && snake1[i].y==snake1[0].y){
						alert("Game end");
						window.location.reload();
					}
				}
			}
			ctx.fillStyle = "red";
			ctx.fillRect(snake1[0].x,snake1[0].y,unit,unit);
			for(var i=1;i<=snake1.length-1;i++){
				console.log(`${snake1[i].x},${snake1[i].y}`);
				ctx.fillStyle = "yellow";
				ctx.fillRect(snake1[i].x,snake1[i].y,unit,unit); 
			}
			
		}
		function left(){
			ctx.clearRect(snake1[snake1.length-1].x,snake1[snake1.length-1].y,unit,unit);
			if(snake1[0].x ==x1 && snake1[0].y ==y1)
			{
				ctx.clearRect(x1,y1,unit,unit);
				 x1= Math.floor(Math.random()*1000)+1;
				 r = x1%30;
				x1=x1 - r;
				 y1= Math.floor(Math.random()*500)+1;
				 re = y1%30;
				y1=y1 -re;
				for(i=0;i<snake1.length-1;i++){
				if(snake1[i].x ==x1 && snake1[i].y ==y1){
					x1= Math.floor(Math.random()*1000)+1;
					 r = x1%30;
					x1=x1 - r;
					 y1= Math.floor(Math.random()*500)+1;
					 re = y1%30;
					y1=y1 -re;
				}
			}
			ctx.fillStyle="black";
				ctx.fillRect(x1,y1,unit,unit);

			for(var i=snake1.length;i>0;i--){
				snake1[i] = snake1[i-1];
			}
		
			snake1[0] = {x: snake1[0].x-unit*2 , y: snake1[0].y  };
			console.log(`${snake1.length}`);
			}
			else{
				
				for(var i=snake1.length-1;i>0;i--){
					snake1[i] = snake1[i-1];
				}
				snake1[0] = {x: snake1[0].x - unit*2  , y: snake1[0].y};
				

				if(snake1[0].x == -30){
					alert("Game end");
					window.location.reload();
				}

				for(var i=1;i<snake1.length;i++){
					if(snake1[i].x==snake1[0].x && snake1[i].y==snake1[0].y){
						alert("Game end");
						window.location.reload();
					}
				}
			}
			ctx.fillStyle = "red";
			ctx.fillRect(snake1[0].x,snake1[0].y,unit,unit);
			for(var i=1;i<=snake1.length-1;i++){
				console.log(`${snake1[i].x},${snake1[i].y}`);
				ctx.fillStyle = "yellow";
				ctx.fillRect(snake1[i].x,snake1[i].y,unit,unit); 
			}
		}

			

			/*function game() {
				switch(`${e.keyCode}`)
				{
					case '38':
					ctx.fillRect(x, y-50, 50, 50);
				  ctx.clearRect(x, y, 50, 50);
				  y = y - 50;
				  if (y == -50)
					alert("game end");
					break;
					case '39':
					ctx.fillRect(x+50, y, 50, 50);
				  ctx.clearRect(x, y, 50, 50);
				  x = x + 50;
				  if(x == 1000)
					alert("game end");
					break;
					case '37':
					ctx.fillRect(x-50, y, 50, 50);
				  ctx.clearRect(x, y, 50, 50);
				  x = x - 50;
				  if(x == -50)
					alert("game end");
					break;
					case '38':
					ctx.fillRect(x, y+50, 50, 50);
				  ctx.clearRect(x, y, 50, 50);
				  y = y + 50;
				  if (y == 500)
					alert("game end");
					break;
				}

			/*if (`${e.keyCode}`  == '38')
			{
					ctx.fillRect(x, y-50, 50, 50);
				  ctx.clearRect(x, y, 50, 50);
				  y = y - 50;
				  if (y == -50)
					alert("game end");
			}
			else if(`${e.keyCode}`  == '39')
			{
				
						ctx.fillRect(x+50, y, 50, 50);
				  	ctx.clearRect(x, y, 50, 50);
				  	x = x + 50;
				  	if(x == 1000)
						alert("game end");
			}*/
		});
	</script>
</body>
</html>